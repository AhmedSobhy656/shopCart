(this["webpackJsonpmy-first-task"]=this["webpackJsonpmy-first-task"]||[]).push([[0],{85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(41),i=n.n(s),o=n(15),l=n(4),j=n(14),u=n.n(j),d=n(20),h=n(18),b=n(5),p=n(6),m=n(8),O=n(7),x=n(2),f=n(16),v=n.n(f),g=n(26),y=function(e){return Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(a.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(a.jsxs)("ul",{className:"navbar-nav",children:[Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)("a",{className:"nav-link",href:"/",children:"Home"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("a",{className:"nav-link",href:"/contact",children:"Contact"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("a",{className:"nav-link",href:"/about",children:"About"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(o.c,{className:"nav-link",to:"/login",children:"Log in"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(o.c,{className:"nav-link",to:"/menu",children:"Menu"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(o.c,{className:"nav-link",to:"/cart",children:"Shopping Cart"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(o.c,{className:"nav-link",to:"/admin",children:"Admin"})})]})}),Object(a.jsx)(o.b,{to:"/cart",children:Object(a.jsxs)("span",{className:"badge badge-primary",children:[Object(a.jsx)("i",{style:{color:"white"},class:"fas fa-cart-plus",children:" "}),e.productsCount]})})]})},C=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getClasses",value:function(){return 0===this.props.product.count?"badge badge-warning m-2":"badge badge-primary m-2"}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-2",children:[Object(a.jsx)("span",{children:Object(a.jsx)("a",{href:"/products/".concat(this.props.product.id),children:this.props.product.name})}),"                               "]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("span",{className:this.getClasses(),children:[" ",this.props.product.count," "]})," ",Object(a.jsxs)("button",{onClick:function(){return e.props.onIncrement(e.props.product)},className:"btn btn-primary btn-sm",children:["  ","+"]}),Object(a.jsxs)("span",{onClick:function(){return e.props.onDelete(e.props.product)},children:["         ",Object(a.jsx)("i",{className:"fas fa-trash m-2"})]})]})]})}}]),n}(r.Component),N=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h1",{children:"Shopping Cart"}),Object(a.jsx)("button",{onClick:this.props.onReset,className:"btn btn-secondary btn-sm m-2",children:"Reset"}),this.props.products.map((function(t){return Object(a.jsx)(C,{product:t,onDelete:e.props.onDelete,onIncrement:e.props.onIncrement},t.id)}))]})}}]),n}(r.Component),k=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(a.jsx)("h1",{children:" Home Page "})}}]),n}(r.Component),w=function(e){var t=e.product.isInCart?{cursor:"pointer"}:{color:"#80808080",cursor:"pointer"};return Object(a.jsx)("i",{style:t,onClick:function(){return e.onClick(e.product)},className:"fas fa-cart-plus"})},S=function(e){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h1",{children:"menu"}),Object(a.jsxs)("table",{className:"table",children:[Object(a.jsxs)("thead",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Price"}),Object(a.jsx)("th",{})]}),Object(a.jsx)("tbody",{children:e.products.map((function(t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:t.price}),Object(a.jsx)("td",{children:Object(a.jsx)(w,{onClick:e.onClick,product:t})})]})}))})]})]})},I=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.products,r=t.onDelete;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h1",{children:"Admin"}),Object(a.jsx)("button",{onClick:function(){return e.props.history.push("/productform/new")},className:"btn btn-primary",children:"Add"}),Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Price"}),Object(a.jsx)("th",{}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:n.map((function(t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:t.price}),Object(a.jsx)("td",{children:Object(a.jsx)("i",{onClick:function(){return e.props.history.push("/productform/".concat(t.id))},className:"fas fa-edit"})}),Object(a.jsx)("td",{children:Object(a.jsx)("i",{onClick:function(){return r(t)},className:"fas fa-trash"})})]},t.id)}))})]})]})}}]),n}(r.Component),D=n(43),F=n(23),A=n.n(F),P=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",errors:{}},e.schema={username:A.a.string().required(),password:A.a.string().required()},e.handleSubmit=function(t){t.preventDefault();e.validate()},e.validate=function(){var t={},n=Object(l.a)({},e.state);delete n.errors;var a=A.a.validate(n,e.schema,{abortEarly:!1});if(null===a.error)return e.setState({errors:{}}),null;var r,c=Object(D.a)(a.error.details);try{for(c.s();!(r=c.n()).done;){var s=r.value;t[s.path]=s.message}}catch(i){c.e(i)}finally{c.f()}e.setState({errors:t})},e.handleChange=function(t){var n=Object(l.a)({},e.state);n[t.currentTarget.name]=t.currentTarget.value,e.setState(n)},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h1",{children:" Log in "}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"",children:"User Name"}),Object(a.jsx)("input",{name:"username",value:this.state.username,onChange:this.handleChange,id:"username",type:"text",className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"",children:"Password"}),Object(a.jsx)("input",{name:"password",value:this.state.password,onChange:this.handleChange,id:"password",type:"password",className:"form-control"})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})}}]),n}(r.Component),E=function(){return Object(a.jsx)("h1",{children:" Page Not Found "})},R=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={id:"",name:"",price:""},e.handleSubmit=function(){var t=Object(h.a)(u.a.mark((function t(n){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),"new"!==e.props.match.params.id){t.next=7;break}return a=Object(l.a)(Object(l.a)({},e.state),{},{count:0,isInCart:!1}),t.next=5,v.a.post("http://localhost:3000/products",a);case 5:t.next=11;break;case 7:return delete(r=Object(l.a)(Object(l.a)({},e.state),{},{count:0,isInCart:!1})).id,t.next=11,v.a.put("http://localhost:3000/products"+e.state.id,r);case 11:e.props.history.replace("/admin");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=Object(l.a)({},e.state);n[t.currentTarget.name]=t.currentTarget.value,e.setState(n)},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===(t=this.props.match.params.id)){e.next=11;break}return e.next=4,v.a.get("http://localhost:3000/products"+t);case 4:n=e.sent,a=n.data,(r=Object(l.a)({},this.state)).name=a.name,r.price=a.price,r.id=a.id,this.setState(r);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h1",{children:"new"===this.props.match.params.id?"Add Product":"Edit Product"}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"name",children:"Name"}),Object(a.jsx)("input",{className:"form-control",onChange:this.handleChange,value:this.state.name,id:"name",name:"name",type:"text"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"price",children:"Price"}),Object(a.jsx)("input",{className:"form-control",onChange:this.handleChange,value:this.state.price,id:"price",name:"price",type:"text"})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"new"===this.props.match.params.id?"Add":"Edit"})]})]})}}]),n}(r.Component),T=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={products:[]},e.handleDelete=function(){var t=Object(h.a)(u.a.mark((function t(n){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(d.a)(e.state.products),r=e.state.products.filter((function(e){return e.id!==n.id})),e.setState({products:r}),t.prev=3,t.next=6,v.a.delete("http://localhost:3000/products/"+n.id);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(3),g.toast.error("Cant Delete"),e.setState({products:a});case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleReset=function(){var t=Object(d.a)(e.state.products);t=t.map((function(e){return e.count=0,e})),e.setState({products:t})},e.IncrementHandler=function(t){var n=Object(d.a)(e.state.products),a=n.indexOf(t);n[a]=Object(l.a)({},n[a]),n[a].count++,e.setState({products:n})},e.handleInCartChange=function(t){var n=Object(d.a)(e.state.products),a=n.indexOf(t);n[a]=Object(l.a)({},n[a]),n[a].isInCart=!n[a].isInCart,e.setState({products:n})},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("http://localhost:3000/products/");case 2:t=e.sent,n=t.data,this.setState({products:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(g.ToastContainer,{}),Object(a.jsx)(y,{productsCount:this.state.products.filter((function(e){return e.isInCart>0})).length}),Object(a.jsx)("main",{className:"container",children:Object(a.jsxs)(x.d,{children:[Object(a.jsx)(x.b,{path:"/login",component:P}),Object(a.jsx)(x.b,{path:"/cart",render:function(t){return Object(a.jsx)(N,Object(l.a)({products:e.state.products.filter((function(e){return e.isInCart})),onIncrement:e.IncrementHandler,onDelete:e.handleInCartChange,onReset:e.handleReset},t))}}),Object(a.jsx)(x.b,{path:"/notfound",component:E}),Object(a.jsx)(x.b,{path:"/menu",render:function(t){return Object(a.jsx)(S,Object(l.a)(Object(l.a)({},t),{},{products:e.state.products,onClick:e.handleInCartChange}))}}),Object(a.jsx)(x.b,{path:"/productform/:id",component:R}),Object(a.jsx)(x.b,{path:"/admin",render:function(t){return Object(a.jsx)(I,Object(l.a)(Object(l.a)({},t),{},{products:e.state.products,onDelete:e.handleDelete,onEdit:e.handleEdit}))}}),Object(a.jsx)(x.b,{path:"/home",exact:!0,component:k}),Object(a.jsx)(x.a,{from:"/",to:"/home"}),Object(a.jsx)(x.a,{to:"/notfound"})]})})]})}}]),n}(r.Component);n(82),n(83),n(84);i.a.render(Object(a.jsxs)(o.a,{children:["/ ",Object(a.jsx)(T,{})]}),document.querySelector("#root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.538d3175.chunk.js.map